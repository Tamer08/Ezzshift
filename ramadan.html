<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¥Ù…Ø³Ø§ÙƒÙŠØ© Ø±Ù…Ø¶Ø§Ù† 1447</title>

<style>
*{box-sizing:border-box}
body{margin:0;font-family:Tahoma,Arial;background:#fff;color:#000}
.container{padding:15px;max-width:500px;margin:auto}
.header{text-align:center;margin-bottom:15px}
.header h1{margin:0;font-size:26px;font-weight:800;color:#FEA500}
.header p{margin-top:5px;color:#666}

.days-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:8px;margin-bottom:20px}
.day-cell{
 position:relative;background:#F6F6F6;border:1.5px solid #F0C36D;
 border-radius:10px;padding:12px 0 10px;text-align:center;
 font-weight:bold;cursor:pointer;user-select:none
}
.day-cell.active,.day-cell:hover{background:#FEA500;color:#fff;border-color:#FEA500}

.today-badge-grid{
 position:absolute;top:-8px;right:6px;background:#FEA500;
 color:#fff;font-size:10px;padding:2px 6px;border-radius:10px
}
.today-dot{
 width:6px;height:6px;background:#FEA500;border-radius:50%;
 margin:6px auto 0;animation:pulse 1.6s infinite
}
@keyframes pulse{
 0%{transform:scale(1)}
 50%{transform:scale(1.4);opacity:.6}
 100%{transform:scale(1)}
}

.day-card{
 position:relative;background:#FFF4DD;border:2px solid #FEA500;
 border-radius:20px;padding:20px;margin-bottom:18px
}
.today-badge{
 position:absolute;top:-10px;right:16px;background:#FEA500;
 color:#fff;font-size:12px;padding:4px 10px;border-radius:12px
}
.day-title{text-align:center;font-weight:bold;color:#FEA500;margin-bottom:12px;font-size:15px}

.times{display:flex;gap:10px}
.time-box{
 flex:1;background:#fff;border-radius:12px;padding:10px 6px;
 text-align:center;border:1px solid #F0C36D
}
.time-box.maghrib{background:#F2F2F2;border-color:#FEA500}
.time-box div:first-child{font-size:13px;font-weight:800;color:#FEA500;margin-bottom:4px}
.time-box div:last-child{font-size:15px;font-weight:bold}

.footer{text-align:center;font-size:13px;color:#666}

@media screen and (max-width: 768px) {
    .header h1 { white-space: nowrap; font-size: 6.5vw !important; }
    .day-title { white-space: nowrap; font-size: 3.5vw !important; }
    .time-box div:first-child { white-space: nowrap; font-size: 3.5vw !important; }
    .time-box div:last-child { white-space: nowrap; font-size: 4.5vw !important; }
    .times { flex-wrap: nowrap; }
}
</style>
</head>

<body>
<div class="container">
  <div class="header">
    <h1>ğŸŒ™ Ø¥Ù…Ø³Ø§ÙƒÙŠØ© Ø±Ù…Ø¶Ø§Ù† 1447 Ù‡Ù€</h1>
    <p>Ø§Ø®ØªØ± ÙŠÙˆÙ…Ù‹Ø§ Ù…Ù† Ø§Ù„Ø£ÙŠØ§Ù…</p>
  </div>

  <div class="days-grid" id="daysGrid"></div>
  <div id="cardContainer"></div>
  <div class="footer" id="location"></div>
</div>

<script>
/* ========= Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ========= */
const city="Cairo";
const country="Egypt";
const hijriYear=1447;
const ramadanMonth=9;
// Ù‚Ù…Ù†Ø§ Ø¨ØªØºÙŠÙŠØ± Ø§Ù„Ù…ÙØªØ§Ø­ Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø®Ø²Ù†Ø© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
const STORAGE_KEY="ramadan_1447_fixed_thursday"; 

// === Ù‡Ø§Ù…: ØªØ­Ø¯ÙŠØ¯ ØªØ§Ø±ÙŠØ® Ø¨Ø¯Ø§ÙŠØ© Ø±Ù…Ø¶Ø§Ù† ÙŠØ¯ÙˆÙŠØ§Ù‹ Ù„ÙŠÙƒÙˆÙ† Ø§Ù„Ø®Ù…ÙŠØ³ ===
// Ø§Ù„Ø³Ù†Ø©: 2026, Ø§Ù„Ø´Ù‡Ø±: 1 (ÙØ¨Ø±Ø§ÙŠØ± Ù„Ø£Ù† Ø§Ù„Ø¹Ø¯ ÙŠØ¨Ø¯Ø£ Ù…Ù† 0), Ø§Ù„ÙŠÙˆÙ…: 19
const START_RAMADAN_DATE = new Date(2026, 1, 19); 

const monthsAr=[
 "ÙŠÙ†Ø§ÙŠØ±","ÙØ¨Ø±Ø§ÙŠØ±","Ù…Ø§Ø±Ø³","Ø£Ø¨Ø±ÙŠÙ„","Ù…Ø§ÙŠÙˆ","ÙŠÙˆÙ†ÙŠÙˆ",
 "ÙŠÙˆÙ„ÙŠÙˆ","Ø£ØºØ³Ø·Ø³","Ø³Ø¨ØªÙ…Ø¨Ø±","Ø£ÙƒØªÙˆØ¨Ø±","Ù†ÙˆÙÙ…Ø¨Ø±","Ø¯ÙŠØ³Ù…Ø¨Ø±"
];
const daysAr = ["Ø§Ù„Ø£Ø­Ø¯", "Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†", "Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡", "Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡", "Ø§Ù„Ø®Ù…ÙŠØ³", "Ø§Ù„Ø¬Ù…Ø¹Ø©", "Ø§Ù„Ø³Ø¨Øª"];

/* ========= ØªØ­ÙˆÙŠÙ„ Ø§Ù„ÙˆÙ‚Øª ========= */
function to12(time){
 if(!time) return "--:--";
 time=time.split(" ")[0]; 
 let [h,m]=time.split(":").map(Number);
 if(isNaN(h)||isNaN(m)) return "--:--";
 const p=h>=12?"Ù…":"Øµ";
 h=h%12||12;
 return `${h}:${m.toString().padStart(2,"0")} ${p}`;
}

/* ========= Ø§Ù„Ø¹Ø±Ø¶ ========= */
function render(days){
 const grid=document.getElementById("daysGrid");
 const card=document.getElementById("cardContainer");
 const todayStr=new Date().toDateString();
 grid.innerHTML="";

 document.getElementById("location").innerText=
  `Ø§Ù„ØªÙˆÙ‚ÙŠØª Ø§Ù„Ù…Ø­Ù„ÙŠ â€” ${city}, ${country}`;

 days.forEach((d, index) => {
  // === Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¬ÙˆÙ‡Ø±ÙŠ: Ø­Ø³Ø§Ø¨ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø¨Ø¯Ø§ÙŠØ© Ø±Ù…Ø¶Ø§Ù† Ø§Ù„Ù…Ø«Ø¨ØªØ© ===
  // Ù†Ù‚ÙˆÙ… Ø¨Ø¥Ù†Ø´Ø§Ø¡ ØªØ§Ø±ÙŠØ® Ø¬Ø¯ÙŠØ¯ ÙŠØ³Ø§ÙˆÙŠ (ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© + Ø±Ù‚Ù… Ø§Ù„ÙŠÙˆÙ… ÙÙŠ Ø§Ù„Ù…ØµÙÙˆÙØ©)
  let calculatedDate = new Date(START_RAMADAN_DATE);
  calculatedDate.setDate(START_RAMADAN_DATE.getDate() + index);

  const isToday = calculatedDate.toDateString() === todayStr;
  
  // Ø§Ø³ØªØ®Ø±Ø§Ø¬ ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø­Ø³ÙˆØ¨
  const dayName = daysAr[calculatedDate.getDay()];
  const dayNum = calculatedDate.getDate();
  const monthName = monthsAr[calculatedDate.getMonth()];
  const yearNum = calculatedDate.getFullYear();
  const formattedGregorian = `${dayNum} ${monthName} ${yearNum}`;

  const cell=document.createElement("div");
  cell.className="day-cell"+(isToday?" active":"");
  cell.innerHTML=`
   ${isToday?`<div class="today-badge-grid">Ø§Ù„ÙŠÙˆÙ…</div>`:""}
   ${index + 1}
   ${isToday?`<div class="today-dot"></div>`:""}
  `;

  cell.onclick=()=>{
   document.querySelectorAll(".day-cell")
    .forEach(c=>c.classList.remove("active"));
   cell.classList.add("active");

   card.innerHTML=`
    <div class="day-card">
     ${isToday?`<div class="today-badge">Ø§Ù„ÙŠÙˆÙ…</div>`:""}
     <div class="day-title">
      ${dayName} â€”
      ${formattedGregorian} â€”
      ${index + 1} Ø±Ù…Ø¶Ø§Ù†
     </div>

     <div class="times">
      <div class="time-box">
       <div>Ø§Ù„Ø¥Ù…Ø³Ø§Ùƒ</div>
       <div>${to12(d.timings.Imsak)}</div>
      </div>
      <div class="time-box">
       <div>Ø§Ù„ÙØ¬Ø±</div>
       <div>${to12(d.timings.Fajr)}</div>
      </div>
      <div class="time-box maghrib">
       <div>Ø§Ù„Ù…ØºØ±Ø¨</div>
       <div>${to12(d.timings.Maghrib)}</div>
      </div>
     </div>
    </div>
   `;
  };

  grid.appendChild(cell);
  if(isToday) cell.click();
  // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ø§Ù„ÙŠÙˆÙ… Ø±Ù…Ø¶Ø§Ù†ØŒ Ù†ÙØªØ­ Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø£ÙˆÙ„ Ø§ÙØªØ±Ø§Ø¶ÙŠÙ‹Ø§
  if(!document.querySelector('.day-cell.active') && index === 0) cell.click();
 });
}

/* ========= ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ========= */
function loadData(){
 const cached=localStorage.getItem(STORAGE_KEY);
 if(cached){
  render(JSON.parse(cached));
  return;
 }

 // Ù†Ø·Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. Ù…Ù„Ø§Ø­Ø¸Ø©: Ù‚Ø¯ ØªØ®ØªÙ„Ù Ø§Ù„ØªÙˆØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠØ© ÙÙŠ Ø§Ù„Ù€ API
 // Ù„ÙƒÙ† Ø¯Ø§Ù„Ø© render Ø³ØªÙ‚ÙˆÙ… Ø¨ØªØµØ­ÙŠØ­Ù‡Ø§ Ø¨ØµØ±ÙŠØ§Ù‹ Ù„ØªØ·Ø§Ø¨Ù‚ ÙŠÙˆÙ… Ø§Ù„Ø®Ù…ÙŠØ³
 fetch(`https://api.aladhan.com/v1/hijriCalendarByCity?city=${city}&country=${country}&month=${ramadanMonth}&year=${hijriYear}&method=5`)
  .then(r=>r.json())
  .then(j=>{
   localStorage.setItem(STORAGE_KEY,JSON.stringify(j.data));
   render(j.data);
  })
  .catch(()=>{
   document.getElementById("cardContainer").innerHTML=
    "<p style='text-align:center;color:red'>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¥Ù†ØªØ±Ù†Øª ÙˆÙ„Ø§ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­ÙÙˆØ¸Ø©</p>";
  });
}

loadData();
</script>

</body>
</html>